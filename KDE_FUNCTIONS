default_pre_build () {
  in_tree_pre_build
}

default_build() {
 ${KF5}_build
}

function default_install() {
 cmake_install
}


# we need a default_final, default_post_remove
# so that the mime and desktop databases get updated
update_databases() {
local DD
if [[ ${KF5} == 'kde5' ]];then
  DD=$KF5DIR
else
  DD=$KDE4DIR
fi
  update-mime-database $DD/share/mime/
  if [[ -e $DD/share/desktop-directories ]]; then
    update-desktop-database $DD/share/desktop-directories
  fi
}

default_final() {
  update_databases
}


default_post_remove() {
  update_databases
}
